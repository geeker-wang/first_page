# ğŸ”¥ çŸ¥ä¹çƒ­æ¦œç›‘æ§ç³»ç»Ÿ - æ¶æ„ V2

## ğŸ“‹ æ¶æ„å¯¹æ¯”

### âŒ æ—§æ¶æ„ï¼ˆGitHub å­˜å‚¨ï¼‰
```
å‰ç«¯ (GitHub Pages)
  â†“
GitHub API (æ¯æ¬¡æŠ“å–éƒ½æäº¤)
  â†“
GitHub ä»“åº“ (data/zhihu-hot.json)
```

**é—®é¢˜**:
- æ¯æ¬¡æŠ“å–äº§ç”Ÿ Git æäº¤
- é¢‘ç¹æäº¤å½±å“ Git å†å²
- ä¾èµ– GitHub API é¢‘ç‡é™åˆ¶
- æ— å®šæ—¶ä»»åŠ¡ï¼ˆéœ€è¦é¡µé¢ä¿æŒæ‰“å¼€ï¼‰

### âœ… æ–°æ¶æ„ï¼ˆSQLite å­˜å‚¨ï¼‰
```
å‰ç«¯ (GitHub Pages)
  â†“ HTTP API
åç«¯ (VPS/äº‘æœåŠ¡å™¨)
  â†“
SQLite æ•°æ®åº“
  â†“
å®šæ—¶ä»»åŠ¡ (Node-cron)
  â†“
çŸ¥ä¹ API
```

**ä¼˜åŠ¿**:
- âœ… æ—  Git æäº¤ï¼Œæ•°æ®å­˜å‚¨åœ¨æœ¬åœ°
- âœ… æœåŠ¡ç«¯å®šæ—¶ä»»åŠ¡ï¼Œæ— éœ€é¡µé¢æ‰“å¼€
- âœ… æ›´å¿«çš„å“åº”é€Ÿåº¦
- âœ… å®Œæ•´çš„ API æ¥å£
- âœ… æ›´å¥½çš„æ•°æ®ç®¡ç†

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç”¨æˆ·æµè§ˆå™¨                               â”‚
â”‚                  (GitHub Pages éƒ¨ç½²)                         â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  å‰ç«¯åº”ç”¨ (Vue 3 + TypeScript)                      â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚    â”‚
â”‚  â”‚  â”‚ é…ç½®é¢æ¿     â”‚  â”‚ æ§åˆ¶é¢æ¿     â”‚                â”‚    â”‚
â”‚  â”‚  â”‚ - åç«¯åœ°å€   â”‚  â”‚ - æ‰‹åŠ¨æŠ“å–   â”‚                â”‚    â”‚
â”‚  â”‚  â”‚              â”‚  â”‚ - åŠ è½½æ•°æ®   â”‚                â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ - ç»Ÿè®¡ä¿¡æ¯   â”‚                â”‚    â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚  â”‚  æ•°æ®å±•ç¤ºåŒº                                   â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  - å½“å‰çƒ­æ¦œ (Top 30)                         â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  - å†å²å¿«ç…§ (å¯å±•å¼€)                          â”‚   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â†“ HTTP API                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              åç«¯æœåŠ¡ (Node.js + Express)                    â”‚
â”‚                    (éƒ¨ç½²åœ¨ VPS)                              â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  API è·¯ç”±                                             â”‚    â”‚
â”‚  â”‚  - GET  /api/health      â†’ å¥åº·æ£€æŸ¥                  â”‚    â”‚
â”‚  â”‚  - POST /api/fetch       â†’ æ‰‹åŠ¨æŠ“å–                  â”‚    â”‚
â”‚  â”‚  - GET  /api/history     â†’ å†å²è®°å½•                  â”‚    â”‚
â”‚  â”‚  - GET  /api/latest      â†’ æœ€æ–°æ•°æ®                  â”‚    â”‚
â”‚  â”‚  - GET  /api/stats       â†’ ç»Ÿè®¡ä¿¡æ¯                  â”‚    â”‚
â”‚  â”‚  - POST /api/clear       â†’ æ¸…ç©ºæ•°æ®                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â†“                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ä¸šåŠ¡é€»è¾‘å±‚                                          â”‚    â”‚
â”‚  â”‚  - çŸ¥ä¹çˆ¬å–å™¨ (axios + CORS ä»£ç†)                   â”‚    â”‚
â”‚  â”‚  - æ•°æ®è½¬æ¢å™¨ (æ ¼å¼åŒ–)                              â”‚    â”‚
â”‚  â”‚  - æ•°æ®éªŒè¯å™¨ (å®Œæ•´æ€§æ£€æŸ¥)                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â†“                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  æ•°æ®æŒä¹…å±‚                                          â”‚    â”‚
â”‚  â”‚  - SQLite æ•°æ®åº“                                     â”‚    â”‚
â”‚  â”‚  - hot_snapshots è¡¨ (å¿«ç…§å…ƒæ•°æ®)                     â”‚    â”‚
â”‚  â”‚  - hot_items è¡¨ (çƒ­æ¦œæ¡ç›®)                           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â†“                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨ (Node-cron)                          â”‚    â”‚
â”‚  â”‚  - é»˜è®¤: æ¯ 30 åˆ†é’Ÿæ‰§è¡Œ                              â”‚    â”‚
â”‚  â”‚  - è‡ªåŠ¨æŠ“å– â†’ å­˜å‚¨ â†’ é€šçŸ¥                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              çŸ¥ä¹ API (é€šè¿‡ CORS ä»£ç†)                       â”‚
â”‚  https://www.zhihu.com/api/v3/topstory/hot-lists/total      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
first_page/
â”œâ”€â”€ ğŸ“‚ å‰ç«¯ (GitHub Pages)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â””â”€â”€ ZhihuHot.vue          # çƒ­æ¦œç»„ä»¶ï¼ˆå·²æ›´æ–°ï¼‰
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”‚   â””â”€â”€ zhihu.ts              # ç±»å‹å®šä¹‰ï¼ˆå·²ç®€åŒ–ï¼‰
â”‚   â”‚   â”œâ”€â”€ App.vue                   # ä¸»ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.ts                   # å…¥å£
â”‚   â”œâ”€â”€ package.json                  # å‰ç«¯ä¾èµ–
â”‚   â”œâ”€â”€ vite.config.ts                # æ„å»ºé…ç½®
â”‚   â””â”€â”€ tsconfig.json                 # TypeScript é…ç½®
â”‚
â””â”€â”€ ğŸ“‚ åç«¯ (VPS/äº‘æœåŠ¡å™¨)
    â”œâ”€â”€ server.js                     # ä¸»æœåŠ¡æ–‡ä»¶
    â”œâ”€â”€ package.json                  # åç«¯ä¾èµ–
    â”œâ”€â”€ .env                          # ç¯å¢ƒé…ç½®
    â”œâ”€â”€ data/
    â”‚   â””â”€â”€ zhihu-hot.db             # SQLite æ•°æ®åº“
    â”œâ”€â”€ Dockerfile                    # Docker é…ç½®
    â”œâ”€â”€ docker-compose.yml            # Docker Compose
    â”œâ”€â”€ deploy.sh                     # éƒ¨ç½²è„šæœ¬
    â”œâ”€â”€ README.md                     # åç«¯æ–‡æ¡£
    â””â”€â”€ DEPLOYMENT_GUIDE.md          # éƒ¨ç½²æŒ‡å—
```

---

## ğŸ”„ æ•°æ®æµç¨‹

### 1. æ‰‹åŠ¨æŠ“å–æµç¨‹
```
ç”¨æˆ·ç‚¹å‡»"æ‰‹åŠ¨æŠ“å–"
    â†“
å‰ç«¯: POST /api/fetch
    â†“
åç«¯æ¥æ”¶è¯·æ±‚
    â†“
è°ƒç”¨çŸ¥ä¹ API (é€šè¿‡ CORS ä»£ç†)
    â†“
æ•°æ®è½¬æ¢å’ŒéªŒè¯
    â†“
åˆ›å»ºå¿«ç…§å¯¹è±¡
    â†“
ä¿å­˜åˆ° SQLite
    â”œâ”€> hot_snapshots è¡¨
    â””â”€> hot_items è¡¨
    â†“
è¿”å›ç»“æœç»™å‰ç«¯
    â†“
å‰ç«¯æ›´æ–° UI
```

### 2. å®šæ—¶æŠ“å–æµç¨‹
```
Node-cron å®šæ—¶å™¨ (æ¯30åˆ†é’Ÿ)
    â†“
æ‰§è¡Œ scheduledFetch()
    â†“
è°ƒç”¨çŸ¥ä¹ API
    â†“
æ•°æ®è½¬æ¢
    â†“
ä¿å­˜åˆ° SQLite
    â†“
è®°å½•æ—¥å¿—
```

### 3. æ•°æ®æŸ¥è¯¢æµç¨‹
```
ç”¨æˆ·ç‚¹å‡»"åŠ è½½æ•°æ®"
    â†“
å‰ç«¯: GET /api/history
    â†“
åç«¯æŸ¥è¯¢æ•°æ®åº“
    â†“
JOIN hot_snapshots + hot_items
    â†“
æ ¼å¼åŒ–æ•°æ®
    â†“
è¿”å› JSON
    â†“
å‰ç«¯æ¸²æŸ“åˆ—è¡¨
```

---

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### hot_snapshots è¡¨
```sql
CREATE TABLE hot_snapshots (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  snapshot_id TEXT UNIQUE NOT NULL,    -- å¿«ç…§å”¯ä¸€ID
  timestamp INTEGER NOT NULL,           -- æ—¶é—´æˆ³
  formatted_time TEXT NOT NULL,         -- æ ¼å¼åŒ–æ—¶é—´
  count INTEGER NOT NULL,               -- æ¡ç›®æ•°é‡
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- ç´¢å¼•
CREATE INDEX idx_snapshot_timestamp ON hot_snapshots(timestamp DESC);
```

### hot_items è¡¨
```sql
CREATE TABLE hot_items (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  snapshot_id TEXT NOT NULL,            -- å…³è”å¿«ç…§ID
  item_id TEXT NOT NULL,                -- çƒ­æ¦œæ¡ç›®ID
  title TEXT NOT NULL,                  -- æ ‡é¢˜
  description TEXT,                     -- æè¿°
  heat INTEGER NOT NULL,                -- çƒ­åº¦
  url TEXT NOT NULL,                    -- é“¾æ¥
  timestamp INTEGER NOT NULL,           -- æ—¶é—´æˆ³
  fetch_time TEXT NOT NULL,             -- æŠ“å–æ—¶é—´
  rank INTEGER NOT NULL,                -- æ’å
  FOREIGN KEY (snapshot_id) REFERENCES hot_snapshots(snapshot_id) ON DELETE CASCADE,
  UNIQUE(snapshot_id, item_id)
);

-- ç´¢å¼•
CREATE INDEX idx_items_snapshot ON hot_items(snapshot_id);
```

---

## ğŸŒ API æ¥å£æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯
- **Base URL**: `http://your-server:3000`
- **å“åº”æ ¼å¼**: JSON
- **å­—ç¬¦ç¼–ç **: UTF-8

### 1. å¥åº·æ£€æŸ¥
```
GET /api/health
```

**å“åº”**:
```json
{
  "status": "ok",
  "timestamp": 1704067200000,
  "version": "1.0.0"
}
```

### 2. æ‰‹åŠ¨æŠ“å–
```
POST /api/fetch
```

**å“åº”**:
```json
{
  "success": true,
  "message": "æŠ“å–æˆåŠŸ",
  "data": {
    "id": "snapshot-1704067200000",
    "timestamp": 1704067200000,
    "formattedTime": "2024-01-01 12:00:00",
    "count": 30,
    "items": [
      {
        "id": "123456",
        "title": "çƒ­æ¦œæ ‡é¢˜",
        "description": "çƒ­æ¦œæè¿°",
        "heat": 1250000,
        "url": "https://www.zhihu.com/question/123456",
        "timestamp": 1704067200000,
        "fetchTime": "2024-01-01 12:00:00",
        "rank": 1
      }
    ]
  }
}
```

### 3. è·å–å†å²è®°å½•
```
GET /api/history?limit=50&offset=0
```

**å‚æ•°**:
- `limit`: è¿”å›æ•°é‡ï¼ˆé»˜è®¤50ï¼‰
- `offset`: åç§»é‡ï¼ˆé»˜è®¤0ï¼‰

**å“åº”**:
```json
{
  "success": true,
  "data": [
    {
      "id": "snapshot-1704067200000",
      "timestamp": 1704067200000,
      "formattedTime": "2024-01-01 12:00:00",
      "count": 30,
      "items": [...]
    }
  ]
}
```

### 4. è·å–æœ€æ–°è®°å½•
```
GET /api/latest
```

**å“åº”**:
```json
{
  "success": true,
  "data": {
    "id": "snapshot-1704067200000",
    "timestamp": 1704067200000,
    "formattedTime": "2024-01-01 12:00:00",
    "count": 30,
    "items": [...]
  }
}
```

### 5. ç»Ÿè®¡ä¿¡æ¯
```
GET /api/stats
```

**å“åº”**:
```json
{
  "success": true,
  "data": {
    "totalSnapshots": 10,
    "totalItems": 300,
    "firstRecord": 1704067200000,
    "lastRecord": 1704153600000,
    "firstRecordTime": "2024-01-01 12:00:00",
    "lastRecordTime": "2024-01-02 12:00:00"
  }
}
```

### 6. æ¸…ç©ºå†å²
```
POST /api/clear-history
Content-Type: application/json

{
  "confirm": "YES_CLEAR_ALL"
}
```

---

## ğŸ” å®‰å…¨è€ƒè™‘

### 1. CORS é…ç½®
```javascript
// åªå…è®¸æŒ‡å®šåŸŸåè®¿é—®
const allowedOrigins = [
  'https://geeker-wang.github.io',
  'http://localhost:5173'
];
```

### 2. ç¯å¢ƒå˜é‡
```bash
# .env æ–‡ä»¶ï¼ˆä¸æäº¤åˆ° Gitï¼‰
PORT=3000
CRON_SCHEDULE=0 */30 * * * *
ALLOWED_ORIGINS=http://localhost:5173,https://your-domain.com
```

### 3. API é™æµï¼ˆå¯é€‰æ‰©å±•ï¼‰
```javascript
// ä½¿ç”¨ express-rate-limit
const rateLimit = require('express-rate-limit');

const limiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15åˆ†é’Ÿ
  max: 100 // æœ€å¤š100æ¬¡è¯·æ±‚
});

app.use('/api/', limiter);
```

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### å“åº”æ—¶é—´
- å¥åº·æ£€æŸ¥: < 10ms
- æ‰‹åŠ¨æŠ“å–: 2-5ç§’ï¼ˆå–å†³äºçŸ¥ä¹APIï¼‰
- å†å²æŸ¥è¯¢: < 100msï¼ˆ100æ¡è®°å½•ï¼‰
- ç»Ÿè®¡æŸ¥è¯¢: < 50ms

### å­˜å‚¨å ç”¨
- æ¯æ¡å¿«ç…§: ~50KB
- æ¯å¤©12æ¬¡æŠ“å–: ~600KB/å¤©
- 1å¹´æ•°æ®: ~220MB

### èµ„æºæ¶ˆè€—
- å†…å­˜: ~50MB
- CPU: ç©ºé—² < 1%, æŠ“å–æ—¶ < 10%
- ç£ç›˜: SQLite æ•°æ®åº“æ–‡ä»¶

---

## ğŸš€ éƒ¨ç½²å»ºè®®

### å¼€å‘ç¯å¢ƒ
```bash
cd backend
npm install
npm run dev  # è‡ªåŠ¨é‡å¯
```

### ç”Ÿäº§ç¯å¢ƒ
```bash
# æ–¹å¼ 1: PM2
./deploy.sh  # é€‰æ‹© 1

# æ–¹å¼ 2: Docker
./deploy.sh  # é€‰æ‹© 2

# æ–¹å¼ 3: Docker Compose
docker-compose up -d
```

### äº‘æœåŠ¡å™¨æ¨è
- **é˜¿é‡Œäº‘**: ECS 1æ ¸1GBï¼ˆçº¦ Â¥50/æœˆï¼‰
- **è…¾è®¯äº‘**: CVM 1æ ¸1GBï¼ˆçº¦ Â¥50/æœˆï¼‰
- **Vultr**: 1æ ¸1GBï¼ˆçº¦ $5/æœˆï¼‰
- **DigitalOcean**: 1æ ¸1GBï¼ˆçº¦ $6/æœˆï¼‰

---

## ğŸ“ˆ æ‰©å±•è®¡åˆ’

### çŸ­æœŸä¼˜åŒ–
- [ ] æ·»åŠ  API å¯†é’¥è®¤è¯
- [ ] å®ç°æ•°æ®å¯¼å‡ºåŠŸèƒ½
- [ ] æ·»åŠ æ•°æ®æ¸…ç†ç­–ç•¥

### ä¸­æœŸåŠŸèƒ½
- [ ] å¤šå¹³å°æ”¯æŒï¼ˆå¾®åšã€Bç«™ç­‰ï¼‰
- [ ] æ•°æ®å¯è§†åŒ–å›¾è¡¨
- [ ] é‚®ä»¶/é’‰é’‰é€šçŸ¥

### é•¿æœŸè§„åˆ’
- [ ] ç”¨æˆ·ç³»ç»Ÿ
- [ ] æ•°æ®åˆ†æå’Œè¶‹åŠ¿
- [ ] Webhook æ”¯æŒ

---

## ğŸ› æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

| é—®é¢˜ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| æŠ“å–å¤±è´¥ | çŸ¥ä¹ API å˜åŒ– | æ£€æŸ¥ CORS ä»£ç†æˆ–æ›´æ–° API åœ°å€ |
| æ•°æ®åº“é” | å¹¶å‘å†™å…¥ | ä½¿ç”¨äº‹åŠ¡æˆ–å¢åŠ é‡è¯•æœºåˆ¶ |
| å®šæ—¶ä»»åŠ¡ä¸æ‰§è¡Œ | æœåŠ¡å™¨æ—¶é—´é”™è¯¯ | æ£€æŸ¥æ—¶åŒºè®¾ç½® |
| CORS é”™è¯¯ | åŸŸåé…ç½®é”™è¯¯ | æ£€æŸ¥ ALLOWED_ORIGINS |

### æ—¥å¿—æŸ¥çœ‹
```bash
# PM2
pm2 logs zhihu-hot

# Docker
docker-compose logs -f

# æ‰‹åŠ¨
tail -f logs/server.log
```

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [Express å®˜æ–¹æ–‡æ¡£](https://expressjs.com/)
- [SQLite æ–‡æ¡£](https://www.sqlite.org/docs.html)
- [Node-cron æ–‡æ¡£](https://github.com/node-cron/node-cron)
- [Vue 3 å®˜æ–¹æ–‡æ¡£](https://vuejs.org/)

---

*ç‰ˆæœ¬: 2.0.0*
*æ›´æ–°æ—¶é—´: 2026-01-08*
*æ¶æ„: å‰åç«¯åˆ†ç¦» + SQLite å­˜å‚¨*
