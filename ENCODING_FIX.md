# ğŸ”§ ä¸­æ–‡ä¹±ç é—®é¢˜ä¿®å¤

## é—®é¢˜æè¿°

é¡µé¢æ˜¾ç¤ºä¸­æ–‡ä¹±ç ï¼Œå¦‚ï¼š
```
2024Ã¥Â¹Â´Ã¦ÂœÂ€Ã¥Â€Â¼Ã¥Â¾Â—Ã¥Â…Â³Ã¦Â³Â¨Ã§ÂšÂ„Ã§Â§Â‘Ã¦ÂŠÂ€Ã¨Â¶Â‹Ã¥ÂŠÂ¿Ã¦Â˜Â¯Ã¤Â»Â€Ã¤Â¹ÂˆÃ¯Â¼ÂŸ
```

## åŸå› åˆ†æ

### 1. Base64 è§£ç é—®é¢˜

**æ—§ä»£ç **:
```javascript
const content = atob(data.content)  // âŒ ä¸æ”¯æŒ UTF-8
return JSON.parse(content)
```

**é—®é¢˜**: `atob()` åªæ”¯æŒ ASCIIï¼Œå¯¹ä¸­æ–‡å­—ç¬¦ä¼šä¹±ç 

### 2. æ•°æ®æ–‡ä»¶ä¸­æœ‰ä¹±ç å¿«ç…§

æŸ¥çœ‹ `data/zhihu-hot.json`ï¼Œå‘ç°:
- ç¬¬ 1-108 è¡Œ: âœ… æ­£å¸¸ä¸­æ–‡
- ç¬¬ 169-214 è¡Œ: âŒ ä¹±ç  (UTF-8 ç¼–ç é”™è¯¯)

è¿™æ˜¯ä¹‹å‰ CommonJS ç‰ˆæœ¬çš„è„šæœ¬äº§ç”Ÿçš„é—®é¢˜æ•°æ®ã€‚

---

## âœ… è§£å†³æ–¹æ¡ˆ

### 1. å‰ç«¯ç»„ä»¶ä¿®å¤ (å·²æ›´æ–°)

**æ–°ä»£ç ** (src/components/ZhihuHot.vue):
```javascript
const fetchFromGitHub = async (): Promise<HotSnapshot[]> => {
  const url = getGitHubApiUrl()
  const response = await fetch(url)

  if (!response.ok) {
    throw new Error(`HTTP ${response.status}: ${response.statusText}`)
  }

  const data = await response.json()

  // âœ… æ­£ç¡®è§£ç  Base64 + UTF-8
  const binaryString = atob(data.content)
  const bytes = new Uint8Array(binaryString.length)
  for (let i = 0; i < binaryString.length; i++) {
    bytes[i] = binaryString.charCodeAt(i)
  }
  const decoder = new TextDecoder('utf-8')
  const content = decoder.decode(bytes)

  return JSON.parse(content)
}
```

### 2. æ¸…ç†æ•°æ®æ–‡ä»¶

éœ€è¦åˆ é™¤ä¹±ç çš„å¿«ç…§æ•°æ®ã€‚

---

## ğŸš€ æ“ä½œæ­¥éª¤

### ç¬¬1æ­¥: åˆ é™¤ä¹±ç æ•°æ®

è®¿é—®: https://github.com/geeker-wang/first_page/edit/main/data/zhihu-hot.json

åˆ é™¤ä»¥ä¸‹ä¹±ç å¿«ç…§ (ç¬¬ 163-215 è¡Œ):

```json
{
  "id": "snapshot-1767836524316",
  "timestamp": 1767836524316,
  "formattedTime": "2026/1/8 09:42:04",
  "items": [
    {
      "id": "mock-1",
      "title": "2024Ã¥Â¹Â´Ã¦ÂœÂ€Ã¥Â€Â¼Ã¥Â¾Â—Ã¥Â…Â³Ã¦Â³Â¨Ã§ÂšÂ„Ã§Â§Â‘Ã¦ÂŠÂ€Ã¨Â¶Â‹Ã¥ÂŠÂ¿Ã¦Â˜Â¯Ã¤Â»Â€Ã¤Â¹ÂˆÃ¯Â¼ÂŸ",  // ä¹±ç 
      ...
    }
  ],
  "count": 5
}
```

**ä¿ç•™**:
- ç¬¬ 1-108 è¡Œ (ç¬¬ä¸€ä¸ªå¿«ç…§ - æ­£å¸¸)
- ç¬¬ 110-162 è¡Œ (ç¬¬äºŒä¸ªå¿«ç…§ - æ­£å¸¸)

**åˆ é™¤**:
- ç¬¬ 163-215 è¡Œ (ç¬¬ä¸‰ä¸ªå¿«ç…§ - ä¹±ç )

**æœ€ç»ˆæ–‡ä»¶åº”è¯¥åªæœ‰ 2 ä¸ªå¿«ç…§**:

```json
[
  {
    "id": "snapshot-1767842301378",
    "timestamp": 1767842301378,
    "formattedTime": "2026/1/8 03:18:21",
    "count": 10,
    "items": [...]
  },
  {
    "id": "snapshot-1767836547273",
    "timestamp": 1767836547273,
    "formattedTime": "2026/1/8 09:42:27",
    "items": [...],
    "count": 5
  }
]
```

### ç¬¬2æ­¥: æäº¤ä¿®å¤

1. ç¼–è¾‘ `data/zhihu-hot.json`
2. åˆ é™¤ä¹±ç çš„å¿«ç…§ (ç¬¬ 163-215 è¡Œ)
3. æäº¤æ›´æ”¹

### ç¬¬3æ­¥: æµ‹è¯•å‰ç«¯

1. è®¿é—®: https://geeker-wang.github.io/first_page/
2. é…ç½®: `geeker-wang`, `first_page`, `data/zhihu-hot.json`
3. ç‚¹å‡» **ä» GitHub åŠ è½½**
4. æ£€æŸ¥ä¸­æ–‡æ˜¯å¦æ­£å¸¸æ˜¾ç¤º

---

## ğŸ“Š ä¿®å¤å‰åå¯¹æ¯”

### ä¿®å¤å‰
```
æ ‡é¢˜: 2024Ã¥Â¹Â´Ã¦ÂœÂ€Ã¥Â€Â¼Ã¥Â¾Â—Ã¥Â…Â³Ã¦Â³Â¨Ã§ÂšÂ„Ã§Â§Â‘Ã¦ÂŠÂ€Ã¨Â¶Â‹Ã¥ÂŠÂ¿Ã¦Â˜Â¯Ã¤Â»Â€Ã¤Â¹ÂˆÃ¯Â¼ÂŸ
```

### ä¿®å¤å
```
æ ‡é¢˜: 2024å¹´æœ€å€¼å¾—å…³æ³¨çš„ç§‘æŠ€è¶‹åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ
```

---

## ğŸ” éªŒè¯æ–¹æ³•

### æ£€æŸ¥æ•°æ®æ–‡ä»¶

è®¿é—®: https://github.com/geeker-wang/first_page/blob/main/data/zhihu-hot.json

åº”è¯¥çœ‹åˆ°:
- âœ… æ‰€æœ‰æ ‡é¢˜éƒ½æ˜¯æ­£å¸¸ä¸­æ–‡
- âœ… æ²¡æœ‰ `Ã¥`, `Ã¦`, `Â¼` ç­‰ä¹±ç å­—ç¬¦

### æ£€æŸ¥å‰ç«¯æ˜¾ç¤º

è®¿é—®å‰ç«¯é¡µé¢ï¼Œåº”è¯¥çœ‹åˆ°:
- âœ… å®Œæ•´çš„ä¸­æ–‡æ ‡é¢˜
- âœ… æ­£å¸¸çš„ä¸­æ–‡æè¿°
- âœ… æ­£ç¡®çš„æ ¼å¼åŒ–æ—¶é—´

---

## ğŸ¯ å®Œæ•´ä¿®å¤æ¸…å•

- [x] æ›´æ–°å‰ç«¯è§£ç é€»è¾‘ (Base64 + UTF-8)
- [ ] åˆ é™¤æ•°æ®æ–‡ä»¶ä¸­çš„ä¹±ç å¿«ç…§
- [ ] æäº¤æ•°æ®æ–‡ä»¶ä¿®å¤
- [ ] æµ‹è¯•å‰ç«¯æ˜¾ç¤º
- [ ] éªŒè¯ä¸­æ–‡æ­£å¸¸

---

## ğŸ“ æŠ€æœ¯è¯´æ˜

### Base64 + UTF-8 è§£ç åŸç†

GitHub API è¿”å›çš„ Base64 ç¼–ç æ•°æ®:
1. `atob()` è§£ç ä¸ºäºŒè¿›åˆ¶å­—ç¬¦ä¸²
2. è½¬æ¢ä¸º Uint8Array å­—èŠ‚æ•°ç»„
3. ä½¿ç”¨ TextDecoder è§£ç ä¸º UTF-8 å­—ç¬¦ä¸²
4. JSON.parse è§£æä¸ºå¯¹è±¡

### ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·?

`atob()` è¿”å›çš„æ˜¯ Latin1 å­—ç¬¦ä¸²ï¼Œç›´æ¥ç”¨äºä¸­æ–‡ä¼šä¹±ç ã€‚å¿…é¡»:
1. è·å–åŸå§‹å­—èŠ‚
2. ç”¨ UTF-8 è§£ç å™¨è½¬æ¢

---

**ä¿®å¤å®Œæˆåï¼Œä¸­æ–‡æ˜¾ç¤ºé—®é¢˜å°†å®Œå…¨è§£å†³ï¼** âœ…
